<!doctype html>
<html>
<head>
  <title>WEB1 - Welcome</title>
  <meta charset="utf-8">
    <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DT7J7EHDFQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-DT7J7EHDFQ');
  </script>
  <link rel="stylesheet" href="style.css"> <!--css 불러오기-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="colors.js"></script> <!--다크모드 라이트모드-->
  <script>
    function checkLgoinS(){
      var loginBtn=document.querySelector('#loginBtn');
          if(gauth.isSignedIn.get()){
            console.log('logined');
            loginBtn.value='Logout';
          }else{
            console.log('logouted');
            loginBtn.value='Login;'
          }
      }
    function init(){
      console.log('init');
      gapi.load('auth2', function() {
        console.log('auth2');
        window.gauth=gapi.auth2.init({
          client_id:'62975013164-ountm30i2fmq5q2cqejibr19um7iji3n.apps.googleusercontent.com'
        })
        gauth.then(function(){
          console.log('googleAuth Success');
          checkLgoinS();
          
        }, function(){
          console.log('googleAuth Fail');
        })
      });
    }
  </script>
  <script>

    var checkLoginStatus=function(response) {   // Called after the JS SDK has been initialized.
      console.log(response);
      // statusChangeCallback(response);        // Returns the login status.
      if (response.status === 'connected') {
        document.querySelector('#authBtn').value="Logout";
        FB.api('/me',function(resp){
          document.querySelector('#name').innerHTML=' Welcome '+resp.name;
        });
      } else {
        document.querySelector('#authBtn').value="Login";
        document.querySelector('#name').innerHTML='';
      }
    };

    window.fbAsyncInit = function() {
    FB.init({
      appId      : '378878037670297',
      cookie     : true,                     // Enable cookies to allow the server to access the session.
      xfbml      : true,                     // Parse social plugins on this webpage.
      version    : 'v15.0'           // Use this Graph API version for this call.
    });

    
    FB.getLoginStatus(checkLoginStatus);
    
    // FB.getLoginStatus(function(response) {   // Called after the JS SDK has been initialized.
    //   statusChangeCallback(response);        // Returns the login status.
    // }); 위에랑 같음
  };
  </script>
  <!-- Load the JS SDK asynchronously -->
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
</head>
<body>
  <input type="button" id="authBtn" value="checking..." onclick="
    if(this.value==='Login'){
      //now Logout
      FB.login(function(response){
        console.log('login => ', response);
        checkLoginStatus(response);
      });
    }else{
      //now Login
      FB.logout(function(response){
        console.log('lougout => ', response);
        checkLoginStatus(response);
      }); 
    }
  "><span id="name"></span>

    <input type="button" id="loginBtn" value="checking..." onclick="
      if(this.value==='Login'){
        gauth.signIn().then(function(){
          console.log('gauth.signIn()');
          checkLgoinS();
        });
      }else{
        gauth.signOut().then(function(){
          console.log('gauth.signIn()');
          checkLgoinS();
        });
      }
    ">

  <h1><a href="index.html">WEB</a></h1>
  <input type="button" value="night" onclick="nightDayHandler(this);">
  <div id="grid">
    <ol>
      <li><a href="1.html">HTML</a></li>
      <li><a href="2.html">CSS</a></li>
      <li><a href="3.html">JavaScript</a></li>
    </ol>
    <div id="article">
      <h2>WEB</h2>
      <p>The World Wide Web (WWW)에 관한 설명</p>
    </div>
  </div>
  <p>
    <div id="disqus_thread"></div>
    <script>
        /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://web1-rc2esdk9mp.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </p>
  <script src="https://accounts.google.com/gsi/client?onload=init" async defer></script>
  <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/6316d1e554f06e12d892ee45/1gc8i7qjc';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>
</html>
